<!DOCTYPE html>
<html lang="en">

<head>
    {% block head %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'style.css') }}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">

    {% endblock %}

    <style>
        .navbar {
            height: 60px;
        }

        .navbar-brand img {
            height: 160px;
            width: auto;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(100vh);
                opacity: 0;
            }
        }

        .snowflake {
            position: fixed;
            top: -10px;
            background: white;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            opacity: 0.8;
            animation: snowfall 5s linear infinite;
        }
    </style>

</head>

<body class="bg-primary">
    <div class="container">
        <div class="p-3 mb-2 bg-primary text-white">
            {% include 'navbar.html' %}
            <center>
                <div class="heading">
                    <h1>What's-Weather!!</h1>
                </div>
                <p>
                <h4 style="color:blanchedalmond;">Your ultimate <br> weather companion</h4>
                </p>
            </center>

            <div class="row align-items-center">
                <div class="col-md-4">
                    <div class="gif-container">
                        <img src="{{ url_for('static', filename = 'gif2.gif') }}" alt="weather" class="moving-gif">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="img-container">
                        <!-- <img src="{{ url_for('static', filename = 'undraw_weather_7n28.svg') }}" alt="weather" class="weather-img"> -->
                    </div>
                </div>
                
            </div>

        </div>
    </div>
    <div class="clouds">
        <img src="{{url_for('static', filename = 'cloud1.png')}}" style="--i:1">
        <img src="{{url_for('static', filename = 'cloud2.png')}}" style="--i:2">
        <img src="{{url_for('static', filename = 'cloud3.png')}}" style="--i:3">
        <img src="{{url_for('static', filename = 'cloud4.png')}}" style="--i:4">
    </div>

    <!-- Bootstrap Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- Snowfall Script (Moved here for proper execution) -->
    <script>
        function createSnowflake() {
            const snowflake = document.createElement("div");
            snowflake.classList.add("snowflake");
            snowflake.style.left = Math.random() * window.innerWidth + "px";
            snowflake.style.animationDuration = (Math.random() * 3 + 2) + "s"; // Random fall speed
            document.body.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove(); // Remove snowflake after it falls
            }, 5000);
        }

        function startSnowfall() {
            let snowfallInterval = setInterval(createSnowflake, 100); // Create snowflakes every 100ms

            setTimeout(() => {
                clearInterval(snowfallInterval); // Stop snowfall after 5 seconds
            }, 5000);
        }

        window.onload = startSnowfall; // Start snowfall when page loads
    </script>
    
    
</body>

</html>